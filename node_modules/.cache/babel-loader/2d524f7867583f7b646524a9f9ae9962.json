{"ast":null,"code":"var _jsxFileName = \"/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/Dashboard/Dashboard.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Box, Flex, Grid, GridItem, Heading, Stack, Text, useBreakpointValue, useColorModeValue, useToast, VStack, Link as CLink, Image, Center } from \"@chakra-ui/react\";\nimport ProjectRow from \"../Project/ProjectRow\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport FileRow from \"../MyFiles/FileRow\";\nimport { Link } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\n\nconst Dashboard = ({\n  auth\n}) => {\n  const date = new Date();\n  let hours = date.getHours();\n  let greet = {\n    message: \"\",\n    image: \"\"\n  }; // if (hours < 12) {\n  //   greet.message = \" Good Morning, \" + auth.user.name.split(\" \")[0];\n  //   greet.image = \"url(https://wallpapercave.com/wp/wp2833173.jpg)\";\n  // } else if (hours <= 17 && hours >= 12) {\n  //   greet.message = \" Good Afternoon, \" + auth.user.name.split(\" \")[0];\n  //   greet.image = \"url(https://wallpapercave.com/wp/wp2833173.jpg)\";\n  // } else {\n  //   greet.message = \" Good Evening, \" + auth.user.name.split(\" \")[0];\n  //   greet.image =\n  //     \"url(https://images.wallpaperscraft.com/image/single/sunset_dark_twilight_148787_1920x1080.jpg)\";\n  // }\n\n  const [recentProjects, setRecentProjects] = useState([]);\n  const [recentFiles, setRecentFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getRecentProjects = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.get( // \"http://localhost:5002/api/project/recent\",\n      backend + \"/api/project/recent\", requestOptions);\n      setRecentProjects(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n  };\n\n  const getRecentFiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.get( // \"http://localhost:5002/api/json/recent\",\n      backend + \"/api/json/recent\", requestOptions);\n      setRecentFiles(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getRecentProjects();\n      await getRecentFiles();\n      setLoading(false);\n    };\n\n    f();\n  }, []);\n  return React.createElement(Box, {\n    minH: \"85vh\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Stack, {\n    minH: \"25vh\",\n    direction: {\n      base: \"column\",\n      md: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    p: 8,\n    flex: 1,\n    align: \"center\",\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Stack, {\n    spacing: 6,\n    w: \"full\",\n    maxW: \"lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    fontSize: {\n      base: \"3xl\",\n      md: \"4xl\",\n      lg: \"5xl\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Text, {\n    color: \"black\",\n    as: \"span\",\n    position: \"relative\",\n    _after: {\n      content: \"''\",\n      width: \"full\",\n      height: useBreakpointValue({\n        base: \"20%\",\n        md: \"30%\"\n      }),\n      position: \"absolute\",\n      bottom: 1,\n      left: 0,\n      bg: \"blue.400\",\n      zIndex: -1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Hello,\", \" \"), React.createElement(Text, {\n    color: \"blue.400\",\n    as: \"span\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, auth.user.name.split(\" \")[0], \"! \\uD83D\\uDC4B\"), \" \"))), React.createElement(Flex, {\n    flex: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Image, {\n    alt: \"Login Image\",\n    objectFit: \"cover\",\n    src: \"/assets/banner.png\",\n    maxW: \"300px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    templateColumns: \"repeat(2, 1fr)\",\n    gap: 4,\n    p: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    maxH: \"25em\",\n    overflow: \"auto\",\n    bg: useColorModeValue(\"white\", \"gray.800\"),\n    boxShadow: \"lg\",\n    p: 8,\n    rounded: \"xl\",\n    align: \"center\",\n    pos: \"relative\",\n    _after: {\n      content: `\"\"`,\n      w: 0,\n      h: 0,\n      borderLeft: \"solid transparent\",\n      borderLeftWidth: 16,\n      borderRight: \"solid transparent\",\n      borderRightWidth: 16,\n      borderTop: \"solid\",\n      borderTopWidth: 16,\n      borderTopColor: useColorModeValue(\"white\", \"white\"),\n      pos: \"absolute\",\n      bottom: \"-16px\",\n      left: \"50%\",\n      transform: \"translateX(-50%)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    pt: 5,\n    pl: 5,\n    fontSize: \"2xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Recent Projects\"), React.createElement(Box, {\n    p: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, recentProjects.length > 0 ? recentProjects.map(p => React.createElement(ProjectRow, {\n    key: p._id,\n    name: p.name,\n    projid: p._id,\n    isFinished: p.isFinished,\n    dash: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  })) : React.createElement(React.Fragment, null, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, \"No recent projects!\"), React.createElement(CLink, {\n    as: Link,\n    to: \"/projects\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Create project\")))), React.createElement(GridItem, {\n    overflow: \"auto\",\n    bg: useColorModeValue(\"white\", \"gray.800\"),\n    boxShadow: \"lg\",\n    p: 8,\n    rounded: \"xl\",\n    align: \"center\",\n    maxH: \"25em\",\n    pos: \"relative\",\n    _after: {\n      content: `\"\"`,\n      w: 0,\n      h: 0,\n      borderLeft: \"solid transparent\",\n      borderLeftWidth: 16,\n      borderRight: \"solid transparent\",\n      borderRightWidth: 16,\n      borderTop: \"solid\",\n      borderTopWidth: 16,\n      borderTopColor: useColorModeValue(\"white\", \"gray.800\"),\n      pos: \"absolute\",\n      bottom: \"-16px\",\n      left: \"50%\",\n      transform: \"translateX(-50%)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    pt: 5,\n    pl: 5,\n    fontSize: \"2xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \"Recent Validators\"), React.createElement(Box, {\n    p: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, recentFiles.length > 0 ? recentFiles.map(p => React.createElement(Link, {\n    to: \"/myfiles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(FileRow, {\n    name: p.name,\n    dash: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }))) : React.createElement(React.Fragment, null, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \"No recent Validators!\"), React.createElement(CLink, {\n    as: Link,\n    to: \"/myfiles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, \"Add Validator\"))))));\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(Dashboard);","map":{"version":3,"sources":["/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/Dashboard/Dashboard.jsx"],"names":["React","useEffect","useState","Box","Flex","Grid","GridItem","Heading","Stack","Text","useBreakpointValue","useColorModeValue","useToast","VStack","Link","CLink","Image","Center","ProjectRow","connect","Axios","FileRow","backend","Dashboard","auth","date","Date","hours","getHours","greet","message","image","recentProjects","setRecentProjects","recentFiles","setRecentFiles","loading","setLoading","toast","getRecentProjects","jwttoken","localStorage","getItem","requestOptions","headers","token","res","get","data","error","title","status","duration","isClosable","position","console","log","getRecentFiles","f","base","md","lg","content","width","height","bottom","left","bg","zIndex","user","name","split","w","h","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderTopColor","pos","transform","length","map","p","_id","isFinished","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  Flex,\n  Grid,\n  GridItem,\n  Heading,\n  Stack,\n  Text,\n  useBreakpointValue,\n  useColorModeValue,\n  useToast,\n  VStack,\n  Link as CLink,\n  Image,\n  Center,\n} from \"@chakra-ui/react\";\nimport ProjectRow from \"../Project/ProjectRow\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport FileRow from \"../MyFiles/FileRow\";\nimport { Link } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\n\nconst Dashboard = ({ auth }) => {\n  const date = new Date();\n  let hours = date.getHours();\n  let greet = { message: \"\", image: \"\" };\n\n  // if (hours < 12) {\n  //   greet.message = \" Good Morning, \" + auth.user.name.split(\" \")[0];\n  //   greet.image = \"url(https://wallpapercave.com/wp/wp2833173.jpg)\";\n  // } else if (hours <= 17 && hours >= 12) {\n  //   greet.message = \" Good Afternoon, \" + auth.user.name.split(\" \")[0];\n  //   greet.image = \"url(https://wallpapercave.com/wp/wp2833173.jpg)\";\n  // } else {\n  //   greet.message = \" Good Evening, \" + auth.user.name.split(\" \")[0];\n  //   greet.image =\n  //     \"url(https://images.wallpaperscraft.com/image/single/sunset_dark_twilight_148787_1920x1080.jpg)\";\n  // }\n\n  const [recentProjects, setRecentProjects] = useState([]);\n  const [recentFiles, setRecentFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getRecentProjects = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.get(\n        // \"http://localhost:5002/api/project/recent\",\n        backend + \"/api/project/recent\",\n        requestOptions\n      );\n\n      setRecentProjects(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  const getRecentFiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.get(\n        // \"http://localhost:5002/api/json/recent\",\n        backend + \"/api/json/recent\",\n        requestOptions\n      );\n\n      setRecentFiles(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getRecentProjects();\n      await getRecentFiles();\n      setLoading(false);\n    };\n    f();\n  }, []);\n\n  return (\n    <Box minH={\"85vh\"}>\n      <Stack minH={\"25vh\"} direction={{ base: \"column\", md: \"row\" }}>\n        <Flex p={8} flex={1} align={\"center\"} justify={\"center\"}>\n          <Stack spacing={6} w={\"full\"} maxW={\"lg\"}>\n            <Heading fontSize={{ base: \"3xl\", md: \"4xl\", lg: \"5xl\" }}>\n              <Text\n                color={\"black\"}\n                as={\"span\"}\n                position={\"relative\"}\n                _after={{\n                  content: \"''\",\n                  width: \"full\",\n                  height: useBreakpointValue({ base: \"20%\", md: \"30%\" }),\n                  position: \"absolute\",\n                  bottom: 1,\n                  left: 0,\n                  bg: \"blue.400\",\n                  zIndex: -1,\n                }}\n              >\n                Hello,{\" \"}\n              </Text>\n              <Text color={\"blue.400\"} as={\"span\"}>\n                {auth.user.name.split(\" \")[0]}! ðŸ‘‹\n              </Text>{\" \"}\n            </Heading>\n          </Stack>\n        </Flex>\n        <Flex flex={1}>\n          <Image\n            alt={\"Login Image\"}\n            objectFit={\"cover\"}\n            src={\"/assets/banner.png\"}\n            maxW='300px'\n          />\n        </Flex>\n      </Stack>\n      <Grid templateColumns='repeat(2, 1fr)' gap={4} p={8}>\n        <GridItem\n          maxH='25em'\n          overflow='auto'\n          bg={useColorModeValue(\"white\", \"gray.800\")}\n          boxShadow={\"lg\"}\n          p={8}\n          rounded={\"xl\"}\n          align={\"center\"}\n          pos={\"relative\"}\n          _after={{\n            content: `\"\"`,\n            w: 0,\n            h: 0,\n            borderLeft: \"solid transparent\",\n            borderLeftWidth: 16,\n            borderRight: \"solid transparent\",\n            borderRightWidth: 16,\n            borderTop: \"solid\",\n            borderTopWidth: 16,\n            borderTopColor: useColorModeValue(\"white\", \"white\"),\n            pos: \"absolute\",\n            bottom: \"-16px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n          }}\n        >\n          <Heading pt={5} pl={5} fontSize='2xl'>\n            Recent Projects\n          </Heading>\n          <Box p={5}>\n            {recentProjects.length > 0 ? (\n              recentProjects.map((p) => (\n                <ProjectRow\n                  key={p._id}\n                  name={p.name}\n                  projid={p._id}\n                  isFinished={p.isFinished}\n                  dash\n                />\n              ))\n            ) : (\n              <>\n                <Text>No recent projects!</Text>\n                <CLink as={Link} to=\"/projects\">Create project</CLink>\n              </>\n            )}\n          </Box>\n        </GridItem>\n        <GridItem\n          overflow='auto'\n          bg={useColorModeValue(\"white\", \"gray.800\")}\n          boxShadow={\"lg\"}\n          p={8}\n          rounded={\"xl\"}\n          align={\"center\"}\n          maxH='25em'\n          pos={\"relative\"}\n          _after={{\n            content: `\"\"`,\n            w: 0,\n            h: 0,\n            borderLeft: \"solid transparent\",\n            borderLeftWidth: 16,\n            borderRight: \"solid transparent\",\n            borderRightWidth: 16,\n            borderTop: \"solid\",\n            borderTopWidth: 16,\n            borderTopColor: useColorModeValue(\"white\", \"gray.800\"),\n            pos: \"absolute\",\n            bottom: \"-16px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n          }}\n        >\n          <Heading pt={5} pl={5} fontSize='2xl'>\n            Recent Validators\n          </Heading>\n          <Box p={5}>\n            {recentFiles.length > 0 ? (\n              recentFiles.map((p) => (\n                <Link to={\"/myfiles\"}>\n                  <FileRow name={p.name} dash />\n                </Link>\n              ))\n            ) : (\n              <>\n                <Text>No recent Validators!</Text>\n                <CLink as={Link} to='/myfiles'>Add Validator</CLink>\n              </>\n            )}\n          </Box>\n        </GridItem>\n      </Grid>\n    </Box>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}