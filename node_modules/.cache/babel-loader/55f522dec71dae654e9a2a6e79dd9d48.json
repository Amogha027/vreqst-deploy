{"ast":null,"code":"import _regeneratorRuntime from\"/home/amogha/Documents/sem-6/btp-1/deploy/deployed/vreqst/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/amogha/Documents/sem-6/btp-1/deploy/deployed/vreqst/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/amogha/Documents/sem-6/btp-1/deploy/deployed/vreqst/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amogha/Documents/sem-6/btp-1/deploy/deployed/vreqst/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Button,Flex,Spinner,useToast,useDisclosure,Modal,ModalOverlay,ModalContent,ModalHeader,ModalCloseButton,ModalFooter,Input,FormControl,FormLabel,Box,Stack,Heading,Center,Image,Select}from\"@chakra-ui/react\";import axios from\"axios\";import{backend}from\"../../server_urls\";import ProjectRow from\"./ProjectRow\";import{FaPlus}from\"react-icons/fa\";var Project=function Project(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setdata=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),files=_useState4[0],setfiles=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var toast=useToast();var _useDisclosure=useDisclosure(),isOpen=_useDisclosure.isOpen,onOpen=_useDisclosure.onOpen,onClose=_useDisclosure.onClose;var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),projectName=_useState8[0],setProjectName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),grammarName=_useState10[0],setGrammarName=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),submitLoading=_useState12[0],setSubmitLoading=_useState12[1];var onCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jwttoken,requestOptions,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jwttoken=localStorage.getItem(\"jwtToken\");setSubmitLoading(true);_context.prev=2;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context.next=6;return axios.post(backend+\"/api/project/new\",{name:projectName,grammarName:grammarName},requestOptions);case 6:res=_context.sent;setdata(function(olddata){return[].concat(_toConsumableArray(olddata),[res.data]);});setProjectName(\"\");setGrammarName(\"\");onClose();setSubmitLoading(false);toast({title:\"Project created successfully\",status:\"success\",duration:10000,isClosable:true,position:\"top-right\"});_context.next=20;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);setSubmitLoading(false);toast({title:\"Something went wrong\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,15]]);}));return function onCreate(){return _ref.apply(this,arguments);};}();var getmyprojects=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var jwttoken,requestOptions,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:jwttoken=localStorage.getItem(\"jwtToken\");_context2.prev=1;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context2.next=5;return axios.get(// \"http://localhost:5002/api/project/my\",\nbackend+\"/api/project/my\",requestOptions);case 5:res=_context2.sent;setdata(res.data);// console.log(data);\n_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);toast({title:\"Something went wrong\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function getmyprojects(){return _ref2.apply(this,arguments);};}();var getfiles=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var jwttoken,url,requestOptions,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:jwttoken=localStorage.getItem(\"jwtToken\");// let url = `http://localhost:5002/api/json/timeline`;\nurl=backend+\"/api/json/timeline\";_context3.prev=2;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context3.next=6;return axios.get(url,requestOptions);case 6:res=_context3.sent;// console.log(res);\nsetfiles(res.data);// alert(files)\n_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](2);toast({title:\"Something went wrong 1\",//Goes wrong\nstatus:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context3.t0);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[2,10]]);}));return function getfiles(){return _ref3.apply(this,arguments);};}();useEffect(function(){var f=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);_context4.next=3;return getmyprojects();case 3:_context4.next=5;return getfiles();case 5:setLoading(false);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function f(){return _ref4.apply(this,arguments);};}();f();},[]);var handleGrammar=function handleGrammar(e){setGrammarName(e.target.value);};return loading?React.createElement(React.Fragment,null,React.createElement(Flex,{width:\"100vw\",height:\"85vh\",justifyContent:\"center\",alignItems:\"center\"},React.createElement(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"}))):React.createElement(Box,{minH:\"85vh\"},React.createElement(Flex,{justifyContent:\"space-between\",mx:\"60px\",py:\"30px\"},React.createElement(Heading,null,\"My Projects\"),React.createElement(Button,{leftIcon:React.createElement(FaPlus,null),colorScheme:\"gray\",onClick:onOpen,border:\"1px\"},\"Create Project\")),React.createElement(Flex,{direction:\"column\",mx:\"60px\"},data.length>0?data.map(function(row){return React.createElement(ProjectRow,{key:row._id,name:row.name,organization:row.ownerid.organization,owner:row.ownerid.name,projid:row._id,isFinished:row.isFinished,grammarName:row.grammarName,scene:row.scene,asset:row.asset,action:row.action,custom:row.custom,timeline:row.timeline});}):React.createElement(Center,null,React.createElement(Image,{src:\"/assets/empty.png\",maxW:\"300px\"}))),React.createElement(Modal,{onClose:onClose,isOpen:isOpen,isCentered:true},React.createElement(ModalOverlay,null),React.createElement(ModalContent,null,React.createElement(ModalHeader,null,\"Create new project\"),React.createElement(ModalCloseButton,null),React.createElement(Box,{p:10},React.createElement(FormControl,{isRequired:true},React.createElement(FormLabel,null,\"Project Name\"),React.createElement(Input,{value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);}})),React.createElement(FormControl,{isRequired:true},React.createElement(FormLabel,null,\"Model Template Validator\"),React.createElement(Select,{value:grammarName,onChange:handleGrammar},React.createElement(\"option\",{value:\"\"},\"Select\"),files.map(function(p,index){return React.createElement(\"option\",{key:index,value:p.name},p.name);})))),React.createElement(ModalFooter,null,React.createElement(Stack,{spacing:2,direction:\"row\"},React.createElement(Button,{onClick:onCreate,disabled:submitLoading||!projectName||!grammarName,isLoading:submitLoading,loadingText:\"Creating\",colorScheme:\"whatsapp\"},\"Create\"),React.createElement(Button,{onClick:onClose},\"Close\"))))));};export default Project;","map":{"version":3,"sources":["/home/amogha/Documents/sem-6/btp-1/deploy/deployed/vreqst/src/Components/Project/Project.jsx"],"names":["React","useState","useEffect","Button","Flex","Spinner","useToast","useDisclosure","Modal","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalFooter","Input","FormControl","FormLabel","Box","Stack","Heading","Center","Image","Select","axios","backend","ProjectRow","FaPlus","Project","data","setdata","files","setfiles","loading","setLoading","toast","isOpen","onOpen","onClose","projectName","setProjectName","grammarName","setGrammarName","submitLoading","setSubmitLoading","onCreate","jwttoken","localStorage","getItem","requestOptions","headers","token","post","name","res","olddata","title","status","duration","isClosable","position","console","log","getmyprojects","get","getfiles","url","f","handleGrammar","e","target","value","length","map","row","_id","ownerid","organization","isFinished","scene","asset","action","custom","timeline","p","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Button,\n  Flex,\n  Spinner,\n  useToast,\n  useDisclosure,\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalCloseButton,\n  ModalFooter,\n  Input,\n  FormControl,\n  FormLabel,\n  Box,\n  Stack,\n  Heading,\n  Center,\n  Image,\n  Select,\n} from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport { backend } from \"../../server_urls\";\n\nimport ProjectRow from \"./ProjectRow\";\nimport { FaPlus } from \"react-icons/fa\";\n\nconst Project = () => {\n  const [data, setdata] = useState([]);\n  const [files, setfiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [projectName, setProjectName] = useState(\"\");\n  const [grammarName, setGrammarName] = useState(\"\");\n  const [submitLoading, setSubmitLoading] = useState(false);\n\n  const onCreate = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    setSubmitLoading(true);\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.post(\n        backend + \"/api/project/new\",\n        { name: projectName, grammarName: grammarName },\n        requestOptions\n      );\n      setdata((olddata) => [...olddata, res.data]);\n      setProjectName(\"\")\n      setGrammarName(\"\")\n      onClose();\n      setSubmitLoading(false);\n      toast({\n        title: \"Project created successfully\",\n        status: \"success\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      setSubmitLoading(false);\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  const getmyprojects = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(\n        // \"http://localhost:5002/api/project/my\",\n        backend + \"/api/project/my\",\n        requestOptions\n      );\n\n      setdata(res.data);\n      // console.log(data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  const getfiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    // let url = `http://localhost:5002/api/json/timeline`;\n    let url = backend + `/api/json/timeline`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(url, requestOptions);\n      // console.log(res);\n\n      setfiles(res.data);\n      // alert(files)\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 1\",  //Goes wrong\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getmyprojects();\n      await getfiles();\n      setLoading(false);\n    };\n    f();\n  }, []);\n\n  const handleGrammar = (e) => {\n    setGrammarName(e.target.value)\n  }\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"100vw\"}\n        height={\"85vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <Box minH=\"85vh\">\n      <Flex justifyContent={\"space-between\"} mx={\"60px\"} py={\"30px\"}>\n        <Heading>My Projects</Heading>\n        <Button leftIcon={<FaPlus />} colorScheme=\"gray\" onClick={onOpen} border=\"1px\">\n          Create Project\n        </Button>\n      </Flex>\n      <Flex direction=\"column\" mx={\"60px\"}>\n        {data.length > 0 ? (\n          data.map((row) => {\n            return (\n              <ProjectRow\n                key={row._id}\n                name={row.name}\n                organization={row.ownerid.organization}\n                owner={row.ownerid.name}\n                projid={row._id}\n                isFinished={row.isFinished}\n                grammarName={row.grammarName}\n                scene={row.scene}\n                asset={row.asset}\n                action={row.action}\n                custom={row.custom}\n                timeline={row.timeline}\n              />\n            );\n          })\n        ) : (\n          <Center>\n            <Image src=\"/assets/empty.png\" maxW=\"300px\" />\n          </Center>\n        )}\n      </Flex>\n\n      <Modal onClose={onClose} isOpen={isOpen} isCentered>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Create new project</ModalHeader>\n          <ModalCloseButton />\n          <Box p={10}>\n            <FormControl isRequired>\n              <FormLabel>Project Name</FormLabel>\n              <Input\n                value={projectName}\n                onChange={(e) => setProjectName(e.target.value)}\n              />\n            </FormControl>\n            <FormControl isRequired>\n              <FormLabel>Model Template Validator</FormLabel>\n              <Select value={grammarName} onChange={handleGrammar}>\n                <option value=\"\">Select</option>\n                {files.map((p, index) => (\n                  <option key={index} value={p.name}>\n                    {p.name}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n          <ModalFooter>\n            <Stack spacing={2} direction=\"row\">\n              <Button\n                onClick={onCreate}\n                disabled={submitLoading || !projectName || !grammarName}\n                isLoading={submitLoading}\n                loadingText=\"Creating\"\n                colorScheme={\"whatsapp\"}\n              >\n                Create\n              </Button>\n              <Button onClick={onClose}>Close</Button>\n            </Stack>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </Box>\n  );\n};\n\nexport default Project;\n"]},"metadata":{},"sourceType":"module"}