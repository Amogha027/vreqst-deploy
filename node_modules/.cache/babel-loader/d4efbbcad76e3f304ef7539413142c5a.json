{"ast":null,"code":"import _regeneratorRuntime from\"/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Box,Button,Center,Flex,Heading,Image,Spinner,useToast}from\"@chakra-ui/react\";import axios from\"axios\";import FileRow from\"../MyFiles/FileRow\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import{backend}from\"../../server_urls\";var AllFiles=function AllFiles(_ref){var auth=_ref.auth;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var toast=useToast();var getmyfiles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jwttoken,requestOptions,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jwttoken=localStorage.getItem(\"jwtToken\");_context.prev=1;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context.next=5;return axios.get(// \"http://localhost:5002/api/json/all\",\nbackend+\"/api/json/all\",requestOptions);case 5:res=_context.sent;setdata(res.data);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);toast({title:\"Something went wrong\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function getmyfiles(){return _ref2.apply(this,arguments);};}();useEffect(function(){var f=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return getmyfiles();case 3:setLoading(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function f(){return _ref3.apply(this,arguments);};}();f();},[]);return loading?React.createElement(React.Fragment,null,React.createElement(Flex,{width:\"100vw\",height:\"85vh\",justifyContent:\"center\",alignItems:\"center\"},React.createElement(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"black\",size:\"xl\"}))):React.createElement(Box,{minH:\"85vh\",backgroundColor:\"whitesmoke\"},React.createElement(Flex,{justifyContent:\"space-between\",mx:\"60px\",py:\"30px\"},React.createElement(Heading,null,\"All Model Template Validators\")),React.createElement(Flex,{direction:\"column\",mx:\"60px\"},data.length>0?data.filter(function(r){return r.ownerid._id!==auth.user.id;}).map(function(row){return React.createElement(FileRow,{key:row._id,name:row.name,organization:row.ownerid.organization,owner:row.ownerid.name,show:false});}):React.createElement(Center,null,React.createElement(Image,{src:\"/assets/empty.png\",maxW:\"300px\"}))));};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps)(AllFiles);","map":{"version":3,"sources":["/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/src/Components/AllFiles/AllFiles.jsx"],"names":["React","useState","useEffect","Box","Button","Center","Flex","Heading","Image","Spinner","useToast","axios","FileRow","connect","Link","backend","AllFiles","auth","data","setdata","loading","setLoading","toast","getmyfiles","jwttoken","localStorage","getItem","requestOptions","headers","token","get","res","title","status","duration","isClosable","position","console","log","f","length","filter","r","ownerid","_id","user","id","map","row","name","organization","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Center,\n  Flex,\n  Heading,\n  Image,\n  Spinner,\n  useToast,\n} from \"@chakra-ui/react\";\nimport axios from \"axios\";\n\nimport FileRow from \"../MyFiles/FileRow\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\n\nconst AllFiles = ({ auth }) => {\n  const [data, setdata] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getmyfiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(\n        // \"http://localhost:5002/api/json/all\",\n        backend + \"/api/json/all\",\n        requestOptions\n      );\n\n      setdata(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getmyfiles();\n      setLoading(false);\n    };\n    f();\n  }, []);\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"100vw\"}\n        height={\"85vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"black\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <Box minH=\"85vh\" backgroundColor={\"whitesmoke\"}>\n      <Flex justifyContent={\"space-between\"} mx={\"60px\"} py={\"30px\"}>\n        <Heading>All Model Template Validators</Heading>\n      </Flex>\n      <Flex direction=\"column\" mx={\"60px\"}>\n        {data.length > 0 ? (\n          data\n            .filter((r) => r.ownerid._id !== auth.user.id)\n            .map((row) => {\n              return (\n                <FileRow\n                  key={row._id}\n                  name={row.name}\n                  organization={row.ownerid.organization}\n                  owner={row.ownerid.name}\n                  show={false}\n                />\n              );\n            })\n        ) : (\n          <Center>\n            <Image src=\"/assets/empty.png\" maxW=\"300px\" />\n          </Center>\n        )}\n      </Flex>\n    </Box>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps)(AllFiles);\n"]},"metadata":{},"sourceType":"module"}