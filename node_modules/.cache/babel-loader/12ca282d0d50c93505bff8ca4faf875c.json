{"ast":null,"code":"import _classCallCheck from \"/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var DragSourceImpl =\n/*#__PURE__*/\nfunction () {\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (typeof spec.item === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return result !== null && result !== void 0 ? result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  return DragSourceImpl;\n}();","map":{"version":3,"sources":["../../../src/hooks/useDrag/DragSourceImpl.ts"],"names":["DragSourceImpl","spec","monitor","connector","result","item","canDrag","globalMonitor","target","isDragging","getSourceId","end","getItem","reconnect"],"mappings":";;AAMA,WAAaA,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOoB;AAClB,UAAMC,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AAEA,UAAIE,MAAM,GAAa,IAAvB;;AACA,UAAI,OAAOH,IAAI,CAACI,IAAZ,KAAqB,QAAzB,EAAmC;AAClCD,QAAAA,MAAM,GAAGH,IAAI,CAACI,IAAdD;AACA,OAFD,MAEO,IAAI,OAAOH,IAAI,CAACI,IAAZ,KAAqB,UAAzB,EAAqC;AAC3CD,QAAAA,MAAM,GAAIH,IAAI,CAACI,IAALJ,CAAmCC,OAAnCD,CAAVG;AACA,OAFM,MAEA;AACNA,QAAAA,MAAM,GAAG,EAATA;AACA;;AACD,aAAOA,MAAM,KAAA,IAANA,IAAAA,MAAM,KAAA,KAAA,CAANA,GAAAA,MAAAA,GAAU,IAAjB;AACA;AApBF;AAAA;AAAA,8BAsBkB;AAChB,UAAMH,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;;AACA,UAAI,OAAOD,IAAI,CAACK,OAAZ,KAAwB,SAA5B,EAAuC;AACtC,eAAOL,IAAI,CAACK,OAAZ;AACA,OAFD,MAEO,IAAI,OAAOL,IAAI,CAACK,OAAZ,KAAwB,UAA5B,EAAwC;AAC9C,eAAOL,IAAI,CAACK,OAALL,CAAaC,OAAbD,CAAP;AACA,OAFM,MAEA;AACN,eAAO,IAAP;AACA;AACD;AAhCF;AAAA;AAAA,+BAkCmBM,aAlCnB,EAkCmDC,MAlCnD,EAkCuE;AACrE,UAAMP,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AAFqE,UAG7DO,UAH6D,GAG9CR,IAH8C,CAG7DQ,UAH6D;AAIrE,aAAOA,UAAU,GACdA,UAAU,CAACP,OAAD,CADI,GAEdM,MAAM,KAAKD,aAAa,CAACG,WAAdH,EAFd;AAGA;AAzCF;AAAA;AAAA,8BA2CkB;AAChB,UAAMN,IAAI,GAAG,KAAKA,IAAlB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;AACA,UAAMC,SAAS,GAAG,KAAKA,SAAvB;AAHgB,UAIRQ,GAJQ,GAIAV,IAJA,CAIRU,GAJQ;;AAKhB,UAAIA,GAAJ,EAAS;AACRA,QAAAA,GAAG,CAACT,OAAO,CAACU,OAARV,EAAD,EAAoBA,OAApB,CAAHS;AACA;;AACDR,MAAAA,SAAS,CAACU,SAAVV;AACA;AApDF;;AACC,0BACQF,IADR,EAESC,OAFT,EAGSC,SAHT,EAIE;AAAA;;SAHMF,I,GAAAA,I;SACCC,O,GAAAA,O;SACAC,S,GAAAA,S;AACL;;AALL;AAAA","sourcesContent":["import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}