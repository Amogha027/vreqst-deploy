{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/amogha/btp/deploy/deployed/vreqst/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/amogha/btp/deploy/deployed/vreqst/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runAllChains = exports.toString = exports.bindAll = void 0;\n\nvar bindAll = function bindAll(object) {\n  var protoKeys = Object.getOwnPropertyNames(Object.getPrototypeOf(object));\n  protoKeys.forEach(function (key) {\n    var maybeFn = object[key];\n\n    if (typeof maybeFn === 'function' && key !== 'constructor') {\n      object[key] = maybeFn.bind(object);\n    }\n  });\n  return object;\n};\n\nexports.bindAll = bindAll;\n\nfunction toString(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  } else if (value && typeof value === 'object' && value.toString) {\n    if (typeof value.toString !== 'function') {\n      return Object.getPrototypeOf(value).toString.call(value);\n    }\n\n    return value.toString();\n  } else if (value == null || isNaN(value) && !value.length) {\n    return '';\n  }\n\n  return String(value);\n}\n\nexports.toString = toString;\n/**\n * Runs all validation chains, and returns their results.\n *\n * If one of them has a request-level bail set, the previous chains will be awaited on so that\n * results are not skewed, which can be slow.\n * If this same chain also contains errors, no further chains are run.\n */\n\nfunction runAllChains(_x, _x2, _x3) {\n  return _runAllChains.apply(this, arguments);\n}\n\nfunction _runAllChains() {\n  _runAllChains = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(req, chains, runOpts) {\n    var promises, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, chain, bails, resultPromise, result;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promises = [];\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 4;\n            _iterator = chains[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 23;\n              break;\n            }\n\n            chain = _step.value;\n            bails = chain.builder.build().bail;\n\n            if (!bails) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 12;\n            return Promise.all(promises);\n\n          case 12:\n            resultPromise = chain.run(req, runOpts);\n            promises.push(resultPromise);\n\n            if (!bails) {\n              _context.next = 20;\n              break;\n            }\n\n            _context.next = 17;\n            return resultPromise;\n\n          case 17:\n            result = _context.sent;\n\n            if (result.isEmpty()) {\n              _context.next = 20;\n              break;\n            }\n\n            return _context.abrupt(\"break\", 23);\n\n          case 20:\n            _iteratorNormalCompletion = true;\n            _context.next = 6;\n            break;\n\n          case 23:\n            _context.next = 29;\n            break;\n\n          case 25:\n            _context.prev = 25;\n            _context.t0 = _context[\"catch\"](4);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 29:\n            _context.prev = 29;\n            _context.prev = 30;\n\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n\n          case 32:\n            _context.prev = 32;\n\n            if (!_didIteratorError) {\n              _context.next = 35;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 35:\n            return _context.finish(32);\n\n          case 36:\n            return _context.finish(29);\n\n          case 37:\n            return _context.abrupt(\"return\", Promise.all(promises));\n\n          case 38:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 25, 29, 37], [30,, 32, 36]]);\n  }));\n  return _runAllChains.apply(this, arguments);\n}\n\nexports.runAllChains = runAllChains;","map":{"version":3,"sources":["/home/amogha/btp/deploy/deployed/vreqst/node_modules/express-validator/src/utils.js"],"names":["Object","defineProperty","exports","value","runAllChains","toString","bindAll","object","protoKeys","getOwnPropertyNames","getPrototypeOf","forEach","key","maybeFn","bind","Date","toISOString","call","isNaN","length","String","req","chains","runOpts","promises","chain","bails","builder","build","bail","Promise","all","resultPromise","run","push","result","isEmpty"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runAllChains = exports.toString = exports.bindAll = void 0;\nconst bindAll = (object) => {\n    const protoKeys = Object.getOwnPropertyNames(Object.getPrototypeOf(object));\n    protoKeys.forEach(key => {\n        const maybeFn = object[key];\n        if (typeof maybeFn === 'function' && key !== 'constructor') {\n            object[key] = maybeFn.bind(object);\n        }\n    });\n    return object;\n};\nexports.bindAll = bindAll;\nfunction toString(value) {\n    if (value instanceof Date) {\n        return value.toISOString();\n    }\n    else if (value && typeof value === 'object' && value.toString) {\n        if (typeof value.toString !== 'function') {\n            return Object.getPrototypeOf(value).toString.call(value);\n        }\n        return value.toString();\n    }\n    else if (value == null || (isNaN(value) && !value.length)) {\n        return '';\n    }\n    return String(value);\n}\nexports.toString = toString;\n/**\n * Runs all validation chains, and returns their results.\n *\n * If one of them has a request-level bail set, the previous chains will be awaited on so that\n * results are not skewed, which can be slow.\n * If this same chain also contains errors, no further chains are run.\n */\nasync function runAllChains(req, chains, runOpts) {\n    const promises = [];\n    for (const chain of chains) {\n        const bails = chain.builder.build().bail;\n        if (bails) {\n            await Promise.all(promises);\n        }\n        const resultPromise = chain.run(req, runOpts);\n        promises.push(resultPromise);\n        if (bails) {\n            const result = await resultPromise;\n            if (!result.isEmpty()) {\n                break;\n            }\n        }\n    }\n    return Promise.all(promises);\n}\nexports.runAllChains = runAllChains;\n"]},"metadata":{},"sourceType":"script"}