{"ast":null,"code":"var _jsxFileName = \"/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/Project/ProjectPage.jsx\";\nimport { ChevronRightIcon } from \"@chakra-ui/icons\";\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbLink, Flex, Spinner, useToast } from \"@chakra-ui/react\";\nimport Axios from \"axios\";\nimport { Step, Steps, useSteps } from \"chakra-ui-steps\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\nimport ProjectPageContent from \"./ProjectPageContent\";\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nconst steps = [{\n  label: \"Step 1\",\n  description: \"Scene(s)\"\n}, {\n  label: \"Step 2\",\n  description: \"Article(s)\"\n}, {\n  label: \"Step 3\",\n  description: \"Action-Response(s)\"\n}, {\n  label: \"Step 4\",\n  description: \"Behaviour(s)\"\n}, {\n  label: \"Step 5\",\n  description: \"Timeline\"\n}];\n\nconst ProjectPage = () => {\n  const {\n    nextStep,\n    prevStep,\n    setStep,\n    reset,\n    activeStep\n  } = useSteps({\n    initialStep: 0\n  });\n  const [currProject, setcurrProject] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const {\n    projectid\n  } = useParams();\n  const jwttoken = localStorage.getItem(\"jwtToken\");\n\n  const getProject = async () => {\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await Axios.get( // `http://localhost:5002/api/project/${projectid}`,\n      backend + `/api/project/${projectid}`, requestOptions);\n      setcurrProject(res.data); // setStep(res.data.step);\n      // console.log(res.data.stModel Template\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n  };\n\n  const handleStep = step => {\n    if (step <= activeStep) {\n      const f = async () => {\n        try {\n          setLoading(true);\n          await getProject();\n          setLoading(false);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      f();\n      setStep(step);\n      console.log(step);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      try {\n        setLoading(true);\n        await getProject();\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    f();\n  }, []);\n  {\n    return loading === true || currProject === null ? React.createElement(React.Fragment, null, React.createElement(Flex, {\n      width: \"80vw\",\n      height: \"85vh\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      thickness: \"4px\",\n      speed: \"0.65s\",\n      emptyColor: \"gray.200\",\n      color: \"blue.500\",\n      size: \"xl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))) : React.createElement(Flex, {\n      flexDir: \"column\",\n      minH: \"85vh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Breadcrumb, {\n      spacing: \"8px\",\n      pt: 5,\n      pl: 5,\n      separator: React.createElement(ChevronRightIcon, {\n        color: \"gray.500\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(BreadcrumbItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(BreadcrumbLink, {\n      as: Link,\n      to: \"/projects\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Projects\")), React.createElement(BreadcrumbItem, {\n      isCurrentPage: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(BreadcrumbLink, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, currProject.name))), React.createElement(Flex, {\n      flexDir: \"column\",\n      m: \"30px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Steps, {\n      colorScheme: \"yellow\",\n      activeStep: activeStep,\n      onClickStep: handleStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, steps.map(({\n      label,\n      description\n    }) => React.createElement(Step, {\n      labelOrientation: \"vertical\",\n      label: label,\n      key: label,\n      description: description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(DndProvider, {\n      backend: HTML5Backend,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(ProjectPageContent, {\n      projectname: currProject.name,\n      nextStep: nextStep,\n      prevStep: prevStep,\n      reset: reset,\n      activeStep: activeStep,\n      stepslen: steps.length,\n      scene: currProject.scene,\n      action: currProject.action,\n      asset: currProject.asset,\n      custom: currProject.custom,\n      timeline: currProject.timeline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })))))));\n  }\n};\n\nexport default ProjectPage;","map":{"version":3,"sources":["/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/Project/ProjectPage.jsx"],"names":["ChevronRightIcon","Breadcrumb","BreadcrumbItem","BreadcrumbLink","Flex","Spinner","useToast","Axios","Step","Steps","useSteps","React","useEffect","useState","Link","useParams","backend","ProjectPageContent","DndProvider","HTML5Backend","steps","label","description","ProjectPage","nextStep","prevStep","setStep","reset","activeStep","initialStep","currProject","setcurrProject","loading","setLoading","toast","projectid","jwttoken","localStorage","getItem","getProject","requestOptions","headers","token","res","get","data","error","title","status","duration","isClosable","position","console","log","handleStep","step","f","err","name","map","length","scene","action","asset","custom","timeline"],"mappings":"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","sourcesContent":["import { ChevronRightIcon } from \"@chakra-ui/icons\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  Flex,\n  Spinner,\n  useToast,\n} from \"@chakra-ui/react\";\nimport Axios from \"axios\";\nimport { Step, Steps, useSteps } from \"chakra-ui-steps\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\n\nimport ProjectPageContent from \"./ProjectPageContent\";\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nconst steps = [\n  { label: \"Step 1\", description: \"Scene(s)\" },\n  { label: \"Step 2\", description: \"Article(s)\" },\n  { label: \"Step 3\", description: \"Action-Response(s)\" },\n  { label: \"Step 4\", description: \"Behaviour(s)\" },\n  { label: \"Step 5\", description: \"Timeline\" },\n];\n\nconst ProjectPage = () => {\n  const { nextStep, prevStep, setStep, reset, activeStep } = useSteps({\n    initialStep: 0,\n  });\n\n  const [currProject, setcurrProject] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const { projectid } = useParams();\n\n  const jwttoken = localStorage.getItem(\"jwtToken\");\n  const getProject = async () => {\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.get(\n        // `http://localhost:5002/api/project/${projectid}`,\n        backend + `/api/project/${projectid}`,\n        requestOptions\n      );\n\n      setcurrProject(res.data);\n      // setStep(res.data.step);\n      // console.log(res.data.stModel Template\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  const handleStep = (step) => {\n    if (step <= activeStep) {\n      const f = async () => {\n        try {\n          setLoading(true);\n          await getProject();\n          setLoading(false);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      f();\n      setStep(step);\n      console.log(step)\n    }\n  }\n\n  useEffect(() => {\n    const f = async () => {\n      try {\n        setLoading(true);\n        await getProject();\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    f();\n  }, []);\n\n  {\n    return loading === true || currProject === null ? (\n      <>\n        <Flex\n          width={\"80vw\"}\n          height={\"85vh\"}\n          justifyContent=\"center\"\n          alignItems={\"center\"}\n        >\n          <Spinner\n            thickness=\"4px\"\n            speed=\"0.65s\"\n            emptyColor=\"gray.200\"\n            color=\"blue.500\"\n            size=\"xl\"\n          />\n        </Flex>\n      </>\n    ) : (\n      <Flex flexDir=\"column\" minH={\"85vh\"}>\n        <Breadcrumb\n          spacing=\"8px\"\n          pt={5}\n          pl={5}\n          separator={<ChevronRightIcon color=\"gray.500\" />}\n        >\n          <BreadcrumbItem>\n            <BreadcrumbLink as={Link} to=\"/projects\">\n              Projects\n            </BreadcrumbLink>\n          </BreadcrumbItem>\n\n          <BreadcrumbItem isCurrentPage>\n            <BreadcrumbLink>{currProject.name}</BreadcrumbLink>\n          </BreadcrumbItem>\n        </Breadcrumb>\n        <Flex flexDir={\"column\"} m=\"30px\">\n          <Steps\n            colorScheme=\"yellow\"\n            activeStep={activeStep}\n            onClickStep={handleStep}\n          >\n            {steps.map(({ label, description }) => (\n              <Step\n                labelOrientation=\"vertical\"\n                label={label}\n                key={label}\n                description={description}\n              >\n                <DndProvider backend={HTML5Backend}>\n                  <ProjectPageContent\n                    projectname={currProject.name}\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    reset={reset}\n                    activeStep={activeStep}\n                    stepslen={steps.length}\n                    scene={currProject.scene}\n                    action={currProject.action}\n                    asset={currProject.asset}\n                    custom={currProject.custom}\n                    timeline={currProject.timeline}\n                  />\n                </DndProvider>\n              </Step>\n            ))}\n          </Steps>\n        </Flex>\n      </Flex>\n    );\n  }\n};\n\nexport default ProjectPage;\n"]},"metadata":{},"sourceType":"module"}