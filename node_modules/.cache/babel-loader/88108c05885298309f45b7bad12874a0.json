{"ast":null,"code":"import{Box,ChakraProvider,extendTheme,useColorMode}from\"@chakra-ui/react\";import{StepsStyleConfig as Steps}from\"chakra-ui-steps\";import jwt_decode from\"jwt-decode\";import React from\"react\";import{Provider}from\"react-redux\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import PrivateRoute from\"./Components/private-route/PrivateRoute\";import{logoutUser,setCurrentUser}from\"./redux/actions/authActions\";import store from\"./redux/store\";import setAuthToken from\"./utils/setAuthToken\";import AddFile from\"./Components/AddFile/AddFile\";import Login from\"./Components/Auth/Login\";import Register from\"./Components/Auth/Register\";import Dashboard from\"./Components/Dashboard/Dashboard\";import EditFile from\"./Components/EditFile/EditFile\";import Help from\"./Components/Help/Help\";import MyFiles from\"./Components/MyFiles/MyFiles\";import NotFound from\"./Components/NotFound/NotFound\";import Profile from\"./Components/Profile/Profile\";import Project from\"./Components/Project/Project\";import ProjectPage from\"./Components/Project/ProjectPage\";import Sidebar from\"./Components/Sidebar/Sidebar\";import\"./App.css\";import HelpPage from\"./Components/Help/HelpPage\";import AllFiles from\"./Components/AllFiles/AllFiles\";var theme=extendTheme({components:{Steps:Steps}});function App(){// Check for token to keep user logged in\nif(localStorage.jwtToken){// Set auth token header auth\nvar token=localStorage.jwtToken;setAuthToken(token);// Decode token and get user info and exp\nvar decoded=jwt_decode(token);// Set user and isAuthenticated\nstore.dispatch(setCurrentUser(decoded));// Check for expired token\nvar currentTime=Date.now()/1000;// to get in milliseconds\nif(decoded.exp<currentTime){// Logout user\nstore.dispatch(logoutUser());// Redirect to login\nwindow.location.href=\"./login\";}}var _useColorMode=useColorMode(),colorMode=_useColorMode.colorMode,toggleColorMode=_useColorMode.toggleColorMode;if(colorMode===\"light\")toggleColorMode();return React.createElement(Provider,{store:store},React.createElement(ChakraProvider,{theme:theme},React.createElement(Router,null,React.createElement(Sidebar,null,React.createElement(Box,null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Login}),React.createElement(Route,{path:\"/register\",component:Register}),React.createElement(Route,{path:\"/login\",component:Login}),React.createElement(Route,{path:\"/help\",component:HelpPage}),React.createElement(Switch,null,React.createElement(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard}),React.createElement(PrivateRoute,{exact:true,path:\"/profile\",component:Profile}),React.createElement(PrivateRoute,{exact:true,path:\"/myfiles\",component:MyFiles}),React.createElement(PrivateRoute,{exact:true,path:\"/allfiles\",component:AllFiles}),React.createElement(PrivateRoute,{exact:true,path:\"/myfiles/new\",component:AddFile}),React.createElement(PrivateRoute,{exact:true,path:\"/projects\",component:Project}),React.createElement(PrivateRoute,{path:\"/myfiles/:fileid\",component:EditFile}),React.createElement(PrivateRoute,{path:\"/projects/:projectid\",component:ProjectPage}),React.createElement(Route,{path:\"*\",component:NotFound})),React.createElement(Route,{path:\"*\",component:NotFound})))))));}export default App;","map":{"version":3,"sources":["/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/src/App.js"],"names":["Box","ChakraProvider","extendTheme","useColorMode","StepsStyleConfig","Steps","jwt_decode","React","Provider","BrowserRouter","Router","Route","Switch","PrivateRoute","logoutUser","setCurrentUser","store","setAuthToken","AddFile","Login","Register","Dashboard","EditFile","Help","MyFiles","NotFound","Profile","Project","ProjectPage","Sidebar","HelpPage","AllFiles","theme","components","App","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","colorMode","toggleColorMode"],"mappings":"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","sourcesContent":["import {\n  Box,\n  ChakraProvider,\n  extendTheme,\n  useColorMode,\n} from \"@chakra-ui/react\";\nimport { StepsStyleConfig as Steps } from \"chakra-ui-steps\";\nimport jwt_decode from \"jwt-decode\";\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport PrivateRoute from \"./Components/private-route/PrivateRoute\";\nimport { logoutUser, setCurrentUser } from \"./redux/actions/authActions\";\nimport store from \"./redux/store\";\nimport setAuthToken from \"./utils/setAuthToken\";\n\nimport AddFile from \"./Components/AddFile/AddFile\";\nimport Login from \"./Components/Auth/Login\";\nimport Register from \"./Components/Auth/Register\";\nimport Dashboard from \"./Components/Dashboard/Dashboard\";\nimport EditFile from \"./Components/EditFile/EditFile\";\nimport Help from \"./Components/Help/Help\";\nimport MyFiles from \"./Components/MyFiles/MyFiles\";\nimport NotFound from \"./Components/NotFound/NotFound\";\nimport Profile from \"./Components/Profile/Profile\";\nimport Project from \"./Components/Project/Project\";\nimport ProjectPage from \"./Components/Project/ProjectPage\";\nimport Sidebar from \"./Components/Sidebar/Sidebar\";\n\nimport \"./App.css\";\nimport HelpPage from \"./Components/Help/HelpPage\";\nimport AllFiles from \"./Components/AllFiles/AllFiles\";\n\nconst theme = extendTheme({\n  components: {\n    Steps,\n  },\n});\n\nfunction App() {\n  // Check for token to keep user logged in\n  if (localStorage.jwtToken) {\n    // Set auth token header auth\n    const token = localStorage.jwtToken;\n    setAuthToken(token);\n    // Decode token and get user info and exp\n    const decoded = jwt_decode(token);\n    // Set user and isAuthenticated\n    store.dispatch(setCurrentUser(decoded)); // Check for expired token\n    const currentTime = Date.now() / 1000; // to get in milliseconds\n    if (decoded.exp < currentTime) {\n      // Logout user\n      store.dispatch(logoutUser()); // Redirect to login\n      window.location.href = \"./login\";\n    }\n  }\n  const { colorMode, toggleColorMode } = useColorMode();\n  if (colorMode === \"light\") toggleColorMode();\n\n  return (\n    <Provider store={store}>\n      <ChakraProvider theme={theme}>\n        <Router>\n          <Sidebar>\n            <Box>\n              <Switch>\n                <Route exact path=\"/\" component={Login} />\n                <Route path=\"/register\" component={Register} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/help\" component={HelpPage} />\n                <Switch>\n                  <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n                  <PrivateRoute exact path=\"/profile\" component={Profile} />\n                  <PrivateRoute exact path=\"/myfiles\" component={MyFiles} />\n                  <PrivateRoute exact path=\"/allfiles\" component={AllFiles} />\n                  <PrivateRoute exact path=\"/myfiles/new\" component={AddFile} />\n                  <PrivateRoute exact path=\"/projects\" component={Project} />\n                  <PrivateRoute path=\"/myfiles/:fileid\" component={EditFile} />\n                  <PrivateRoute\n                    path=\"/projects/:projectid\"\n                    component={ProjectPage}\n                  />\n                  <Route path=\"*\" component={NotFound} />\n                </Switch>\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n            </Box>\n          </Sidebar>\n        </Router>\n      </ChakraProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}