{"ast":null,"code":"import _classCallCheck from \"/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/amogha/btp/deploy/VReqST-2/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { union, without } from './utils/js_utils.js';\nexport var EnterLeaveCounter =\n/*#__PURE__*/\nfunction () {\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  return EnterLeaveCounter;\n}();","map":{"version":3,"sources":["../src/EnterLeaveCounter.ts"],"names":["union","without","EnterLeaveCounter","entered","isNodeInDocument","enteringNode","previousLength","length","isNodeEntered","node","contains","filter","leavingNode"],"mappings":";;AAAA,SAASA,KAAT,EAAgBC,OAAhB,QAA+B,qBAA/B;AAIA,WAAaC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,0BAQcG,YARd,EAQyD;AAAA;;AACvD,UAAMC,cAAc,GAAG,KAAKH,OAAL,CAAaI,MAApC;;AAEA,UAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD;AAAA,eACrB,KAAI,CAACL,gBAAL,CAAsBK,IAAtB,MACC,CAACA,IAAI,CAACC,QAAN,IAAkBD,IAAI,CAACC,QAALD,CAAcJ,YAAdI,CADnB,CADqB;AAAA,OAAtB;;AAIA,WAAKN,OAAL,GAAeH,KAAK,CAAC,KAAKG,OAAL,CAAaQ,MAAb,CAAoBH,aAApB,CAAD,EAAqC,CAACH,YAAD,CAArC,CAApB;AAEA,aAAOC,cAAc,KAAK,CAAnBA,IAAwB,KAAKH,OAAL,CAAaI,MAAb,GAAsB,CAArD;AACA;AAlBF;AAAA;AAAA,0BAoBcK,WApBd,EAoBwD;AACtD,UAAMN,cAAc,GAAG,KAAKH,OAAL,CAAaI,MAApC;AAEA,WAAKJ,OAAL,GAAeF,OAAO,CACrB,KAAKE,OAAL,CAAaQ,MAAb,CAAoB,KAAKP,gBAAzB,CADqB,EAErBQ,WAFqB,CAAtB;AAKA,aAAON,cAAc,GAAG,CAAjBA,IAAsB,KAAKH,OAAL,CAAaI,MAAb,KAAwB,CAArD;AACA;AA7BF;AAAA;AAAA,4BA+BsB;AACpB,WAAKJ,OAAL,GAAe,EAAf;AACA;AAjCF;;AAIC,6BAAmBC,gBAAnB,EAAoD;AAAA;;AAHpD,SAAQD,OAAR,GALD,EAKC;AAIC,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA;;AANF;AAAA","sourcesContent":["import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}