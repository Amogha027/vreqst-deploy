{"ast":null,"code":"var _jsxFileName = \"/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/EditFile/EditFile.jsx\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { Box, Breadcrumb, BreadcrumbItem, BreadcrumbLink, Button, Center, Flex, FormControl, FormLabel, Radio, RadioGroup, Spinner, Stack, Switch, useToast } from \"@chakra-ui/react\";\nimport { ChevronRightIcon } from \"@chakra-ui/icons\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-terminal\";\nimport { FaSave, FaTimes } from \"react-icons/fa\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\nimport isJson from \"../../utils/checkjson\";\nimport { check } from \"express-validator\";\n\nconst scenefile = require(\"../default/scene.txt\");\n\nconst assetfile = require(\"../default/asset.txt\");\n\nconst actionfile = require(\"../default/action.txt\");\n\nconst timelinefile = require(\"../default/timeline.txt\");\n\nconst EditFile = () => {\n  const [filename, setfilename] = useState(\"\");\n  const [data, setdata] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [grammarfor, setGrammarfor] = useState(\"\");\n  const [privateFile, setPrivateFile] = useState(false);\n  const [flag, setflag] = useState(false);\n  const [isSaved, setSaved] = useState(true);\n  const [scenedef, setScenedef] = useState('');\n  const [assetdef, setAssetdef] = useState('');\n  const [actiondef, setActiondef] = useState('');\n  const [timelinedef, setTimelinedef] = useState('');\n  const [scenedata, setSceneData] = useState('');\n  const [assetdata, setAssetData] = useState('');\n  const [actiondata, setActionData] = useState('');\n  const [timelinedata, setTimelineData] = useState('');\n  const history = useHistory();\n  const toast = useToast();\n  let {\n    fileid\n  } = useParams();\n\n  const fetchdata = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await axios.get( // `http://localhost:5002/api/json/${fileid}`,\n      backend + `/api/json/${fileid}`, requestOptions);\n      if (res.data.scene != null) setSceneData(res.data.scene);\n      if (res.data.asset != null) setAssetData(res.data.asset);\n      if (res.data.action != null) setActionData(res.data.action);\n      if (res.data.timeline != null) setTimelineData(res.data.timeline);\n      setfilename(res.data.name);\n      setGrammarfor(res.data.grammarfor);\n      setPrivateFile(res.data.private);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const fetchDefault = async () => {\n    try {\n      const response1 = await fetch(scenefile);\n\n      if (!response1.ok) {\n        throw new Error('Network response was not ok.');\n      }\n\n      const data1 = await response1.text();\n      setScenedef(data1);\n      const response2 = await fetch(assetfile);\n\n      if (!response2.ok) {\n        throw new Error('Network response was not ok.');\n      }\n\n      const data2 = await response2.text();\n      setAssetdef(data2);\n      const response3 = await fetch(actionfile);\n\n      if (!response3.ok) {\n        throw new Error('Network response was not ok.');\n      }\n\n      const data3 = await response3.text();\n      setActiondef(data3);\n      const response4 = await fetch(timelinefile);\n\n      if (!response4.ok) {\n        throw new Error('Network response was not ok.');\n      }\n\n      const data4 = await response4.text();\n      setTimelinedef(data4);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    fetchdata();\n    fetchDefault();\n    setLoading(false);\n  }, []);\n\n  function onChange(newValue) {\n    setdata(newValue);\n    setSaved(false);\n  }\n\n  const handleGrammar = value => {\n    setflag(false);\n    setGrammarfor(value);\n    if (value === \"scene\") setdata(scenedata);\n    if (value === \"asset\") setdata(assetdata);\n    if (value === \"action\") setdata(actiondata);\n    if (value === \"timeline\") setdata(timelinedata);\n  };\n\n  const handleSwitch = () => {\n    setSaved(false);\n\n    if (!flag) {\n      if (grammarfor === \"scene\") setdata(scenedef);\n      if (grammarfor === \"asset\") setdata(assetdef);\n      if (grammarfor === \"action\") setdata(actiondef);\n      if (grammarfor === \"timeline\") setdata(timelinedef);\n      setflag(true);\n    } else {\n      // setdata(\"\");\n      if (grammarfor === \"scene\") setdata(scenedata);\n      if (grammarfor === \"asset\") setdata(assetdata);\n      if (grammarfor === \"action\") setdata(actiondata);\n      if (grammarfor === \"timeline\") setdata(timelinedata);\n      setflag(false);\n    }\n  };\n\n  const saveFiles = async () => {\n    if (!isJson(data)) {\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\"\n      });\n      return;\n    }\n\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    setLoading(true);\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      let url = backend;\n\n      if (grammarfor == \"scene\") {\n        url = url + `/api/json/${fileid}/scene`;\n        setSceneData(data);\n      }\n\n      if (grammarfor == \"action\") {\n        url = url + `/api/json/${fileid}/action`;\n        setActionData(data);\n      }\n\n      if (grammarfor == \"asset\") {\n        url = url + `/api/json/${fileid}/asset`;\n        setAssetData(data);\n      }\n\n      if (grammarfor == \"timeline\") {\n        url = url + `/api/json/${fileid}/timeline`;\n        setTimelineData(data);\n      }\n\n      setSaved(true);\n      await axios.patch(url, {\n        data,\n        name: filename,\n        grammarfor\n      }, requestOptions); // history.push(\"/myfiles\");\n\n      setLoading(false);\n      toast({\n        title: \"File updated successfully\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\"\n      });\n    } catch (error) {\n      console.log(error);\n    }\n\n    setflag(false);\n  };\n\n  return loading ? React.createElement(React.Fragment, null, React.createElement(Flex, {\n    width: \"100vw\",\n    height: \"85vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    thickness: \"4px\",\n    speed: \"0.65s\",\n    emptyColor: \"gray.200\",\n    color: \"blue.500\",\n    size: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }))) : React.createElement(Box, {\n    minH: \"85vh\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    spacing: \"8px\",\n    pt: 5,\n    pl: 5,\n    separator: React.createElement(ChevronRightIcon, {\n      color: \"gray.500\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(BreadcrumbItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, React.createElement(BreadcrumbLink, {\n    as: Link,\n    to: \"/myfiles\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, \"My Validators\")), React.createElement(BreadcrumbItem, {\n    isCurrentPage: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(BreadcrumbLink, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, filename))), React.createElement(Flex, {\n    flexDir: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    py: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    boxShadow: \"xl\",\n    p: 8,\n    rounded: \"xl\",\n    align: \"center\",\n    borderWidth: \"1px\",\n    borderColor: \"gray.400\",\n    mb: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    justifyContent: \"center\",\n    flexDir: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, React.createElement(RadioGroup, {\n    onChange: handleGrammar,\n    value: grammarfor,\n    py: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(Stack, {\n    direction: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(Radio, {\n    isReadOnly: !isSaved,\n    value: \"scene\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, \"Scene\"), React.createElement(Radio, {\n    isReadOnly: !isSaved,\n    value: \"asset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, \"Asset\"), React.createElement(Radio, {\n    isReadOnly: !isSaved,\n    value: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, \"Action\"), React.createElement(Radio, {\n    isReadOnly: !isSaved,\n    value: \"timeline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }, \"Timeline\"))), React.createElement(FormControl, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    pb: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, React.createElement(FormLabel, {\n    htmlFor: \"public-file\",\n    mb: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, \"DEFAULT\"), React.createElement(Switch, {\n    id: \"public-file\",\n    defaultChecked: false,\n    isChecked: flag,\n    onChange: handleSwitch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  })))), React.createElement(Box, {\n    mx: \"40px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, React.createElement(AceEditor, {\n    fontSize: 16,\n    showPrintMargin: true,\n    showGutter: true,\n    highlightActiveLine: true,\n    setOptions: {\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true,\n      enableSnippets: false,\n      showLineNumbers: true,\n      tabSize: 2\n    },\n    mode: \"json\",\n    theme: \"terminal\",\n    onChange: onChange,\n    value: data,\n    name: \"grammar-editor\",\n    id: \"grammar-editor\",\n    wrapEnabled: true,\n    height: \"40em\",\n    width: \"60em\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  })), React.createElement(Center, {\n    minW: \"max-content\",\n    justifyContent: \"center\",\n    my: \"20px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, React.createElement(Button, {\n    leftIcon: React.createElement(FaSave, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }),\n    colorScheme: \"yellow\" // disabled={!filename || !data}\n    ,\n    disabled: isSaved,\n    onClick: () => {\n      saveFiles();\n    },\n    isLoading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, \"Save Validator\"), React.createElement(Button, {\n    leftIcon: React.createElement(FaTimes, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }),\n    colorScheme: \"yellow\",\n    disabled: !isSaved,\n    onClick: () => {\n      history.push(\"/myfiles\");\n    },\n    isLoading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, \"Exit\"))));\n};\n\nexport default EditFile;","map":{"version":3,"sources":["/home/amogha/btp/temp/VReqST-main/VReqST/frontend/client/src/Components/EditFile/EditFile.jsx"],"names":["axios","React","useEffect","useState","AceEditor","Box","Breadcrumb","BreadcrumbItem","BreadcrumbLink","Button","Center","Flex","FormControl","FormLabel","Radio","RadioGroup","Spinner","Stack","Switch","useToast","ChevronRightIcon","FaSave","FaTimes","useHistory","useParams","Link","backend","isJson","check","scenefile","require","assetfile","actionfile","timelinefile","EditFile","filename","setfilename","data","setdata","loading","setLoading","grammarfor","setGrammarfor","privateFile","setPrivateFile","flag","setflag","isSaved","setSaved","scenedef","setScenedef","assetdef","setAssetdef","actiondef","setActiondef","timelinedef","setTimelinedef","scenedata","setSceneData","assetdata","setAssetData","actiondata","setActionData","timelinedata","setTimelineData","history","toast","fileid","fetchdata","jwttoken","localStorage","getItem","requestOptions","headers","token","res","get","scene","asset","action","timeline","name","private","err","console","log","fetchDefault","response1","fetch","ok","Error","data1","text","response2","data2","response3","data3","response4","data4","error","onChange","newValue","handleGrammar","value","handleSwitch","saveFiles","title","status","duration","isClosable","position","url","patch","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","push"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\n\nimport {\n  Box,\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  Button,\n  Center,\n  Flex,\n  FormControl,\n  FormLabel,\n  Radio,\n  RadioGroup,\n  Spinner,\n  Stack,\n  Switch,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { ChevronRightIcon } from \"@chakra-ui/icons\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-terminal\";\nimport { FaSave, FaTimes } from \"react-icons/fa\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport { backend } from \"../../server_urls\";\n\nimport isJson from \"../../utils/checkjson\";\nimport { check } from \"express-validator\";\n\nconst scenefile = require(\"../default/scene.txt\")\nconst assetfile = require(\"../default/asset.txt\")\nconst actionfile = require(\"../default/action.txt\")\nconst timelinefile = require(\"../default/timeline.txt\")\n\nconst EditFile = () => {\n  const [filename, setfilename] = useState(\"\");\n  const [data, setdata] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [grammarfor, setGrammarfor] = useState(\"\");\n  const [privateFile, setPrivateFile] = useState(false);\n  const [flag, setflag] = useState(false);\n  const [isSaved, setSaved] = useState(true);\n\n  const [scenedef, setScenedef] = useState('');\n  const [assetdef, setAssetdef] = useState('');\n  const [actiondef, setActiondef] = useState('');\n  const [timelinedef, setTimelinedef] = useState('');\n\n  const [scenedata, setSceneData] = useState('');\n  const [assetdata, setAssetData] = useState('');\n  const [actiondata, setActionData] = useState('');\n  const [timelinedata, setTimelineData] = useState('');\n\n  const history = useHistory();\n  const toast = useToast();\n  let { fileid } = useParams();\n\n  const fetchdata = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(\n        // `http://localhost:5002/api/json/${fileid}`,\n        backend + `/api/json/${fileid}`,\n        requestOptions\n      );\n\n      if (res.data.scene != null) setSceneData(res.data.scene);\n      if (res.data.asset != null) setAssetData(res.data.asset);\n      if (res.data.action != null) setActionData(res.data.action);\n      if (res.data.timeline != null) setTimelineData(res.data.timeline);\n\n      setfilename(res.data.name);\n      setGrammarfor(res.data.grammarfor);\n      setPrivateFile(res.data.private);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const fetchDefault = async () => {\n    try {\n      const response1 = await fetch(scenefile);\n      if (!response1.ok) {\n        throw new Error('Network response was not ok.');\n      }\n      const data1 = await response1.text();\n      setScenedef(data1);\n\n      const response2 = await fetch(assetfile);\n      if (!response2.ok) {\n        throw new Error('Network response was not ok.');\n      }\n      const data2 = await response2.text();\n      setAssetdef(data2);\n\n      const response3 = await fetch(actionfile);\n      if (!response3.ok) {\n        throw new Error('Network response was not ok.');\n      }\n      const data3 = await response3.text();\n      setActiondef(data3);\n\n      const response4 = await fetch(timelinefile);\n      if (!response4.ok) {\n        throw new Error('Network response was not ok.');\n      }\n      const data4 = await response4.text();\n      setTimelinedef(data4);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  }\n\n  useEffect(() => {\n    setLoading(true)\n    fetchdata();\n    fetchDefault();\n    setLoading(false);\n  }, []);\n\n  function onChange(newValue) {\n    setdata(newValue);\n    setSaved(false);\n  }\n\n  const handleGrammar = (value) => {\n    setflag(false);\n    setGrammarfor(value);\n    if (value === \"scene\") setdata(scenedata);\n    if (value === \"asset\") setdata(assetdata);\n    if (value === \"action\") setdata(actiondata);\n    if (value === \"timeline\") setdata(timelinedata);\n  }\n\n  const handleSwitch = () => {\n    setSaved(false);\n    if (!flag) {\n      if (grammarfor === \"scene\") setdata(scenedef);\n      if (grammarfor === \"asset\") setdata(assetdef);\n      if (grammarfor === \"action\") setdata(actiondef);\n      if (grammarfor === \"timeline\") setdata(timelinedef);\n      setflag(true)\n    }\n    else {\n      // setdata(\"\");\n      if (grammarfor === \"scene\") setdata(scenedata);\n      if (grammarfor === \"asset\") setdata(assetdata);\n      if (grammarfor === \"action\") setdata(actiondata);\n      if (grammarfor === \"timeline\") setdata(timelinedata);\n      setflag(false)\n    }\n  }\n\n  const saveFiles = async () => {\n    if (!isJson(data)) {\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\",\n      });\n      return;\n    }\n\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    setLoading(true);\n\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n\n      let url = backend;\n      if (grammarfor == \"scene\") {\n        url = url + `/api/json/${fileid}/scene`;\n        setSceneData(data);\n      }\n      if (grammarfor == \"action\") {\n        url = url + `/api/json/${fileid}/action`;\n        setActionData(data);\n      }\n      if (grammarfor == \"asset\") {\n        url = url + `/api/json/${fileid}/asset`;\n        setAssetData(data);\n      }\n      if (grammarfor == \"timeline\") {\n        url = url + `/api/json/${fileid}/timeline`;\n        setTimelineData(data);\n      }\n      setSaved(true);\n\n      await axios.patch(\n        url,\n        { data, name: filename, grammarfor },\n        requestOptions\n      );\n      // history.push(\"/myfiles\");\n      setLoading(false);\n      toast({\n        title: \"File updated successfully\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      console.log(error);\n    }\n    setflag(false);\n  }\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"100vw\"}\n        height={\"85vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <Box minH={\"85vh\"}>\n      <Breadcrumb\n        spacing=\"8px\"\n        pt={5}\n        pl={5}\n        separator={<ChevronRightIcon color=\"gray.500\" />}\n      >\n        <BreadcrumbItem>\n          <BreadcrumbLink as={Link} to=\"/myfiles\">\n            My Validators\n          </BreadcrumbLink>\n        </BreadcrumbItem>\n\n        <BreadcrumbItem isCurrentPage>\n          <BreadcrumbLink>{filename}</BreadcrumbLink>\n        </BreadcrumbItem>\n      </Breadcrumb>\n      <Flex\n        flexDir={\"column\"}\n        justifyContent={\"center\"}\n        alignItems=\"center\"\n        py=\"50px\"\n      >\n        <Flex\n          boxShadow={\"xl\"}\n          p={8}\n          rounded={\"xl\"}\n          align={\"center\"}\n          borderWidth={\"1px\"}\n          borderColor=\"gray.400\"\n          mb={5}\n        >\n          <Flex justifyContent=\"center\" flexDir={\"column\"}>\n            <RadioGroup onChange={handleGrammar} value={grammarfor} py={2}>\n              <Stack direction=\"row\">\n                <Radio isReadOnly={!isSaved} value=\"scene\">Scene</Radio>\n                <Radio isReadOnly={!isSaved} value=\"asset\">Asset</Radio>\n                <Radio isReadOnly={!isSaved} value=\"action\">Action</Radio>\n                <Radio isReadOnly={!isSaved} value=\"timeline\">Timeline</Radio>\n              </Stack>\n            </RadioGroup>\n            <FormControl display=\"flex\" justifyContent=\"center\" pb={2}>\n              <FormLabel htmlFor=\"public-file\" mb=\"0\">\n                DEFAULT\n              </FormLabel>\n              <Switch\n                id=\"public-file\"\n                defaultChecked={false}\n                isChecked={flag}\n                onChange={handleSwitch}\n              />\n            </FormControl>\n          </Flex>\n        </Flex>\n\n        <Box mx={\"40px\"}>\n          <AceEditor\n            fontSize={16}\n            showPrintMargin={true}\n            showGutter={true}\n            highlightActiveLine={true}\n            setOptions={{\n              enableBasicAutocompletion: true,\n              enableLiveAutocompletion: true,\n              enableSnippets: false,\n              showLineNumbers: true,\n              tabSize: 2,\n            }}\n            mode=\"json\"\n            theme=\"terminal\"\n            onChange={onChange}\n            value={data}\n            name=\"grammar-editor\"\n            id=\"grammar-editor\"\n            wrapEnabled\n            height=\"40em\"\n            width=\"60em\"\n          />\n        </Box>\n        <Center minW=\"max-content\" justifyContent={\"center\"} my={\"20px\"}>\n          <Button\n            leftIcon={<FaSave />}\n            colorScheme=\"yellow\"\n            // disabled={!filename || !data}\n            disabled={isSaved}\n            onClick={() => {saveFiles()}}\n            isLoading={loading}\n          >\n            Save Validator\n          </Button>\n          <Button\n            leftIcon={<FaTimes />}\n            colorScheme=\"yellow\"\n            disabled={!isSaved}\n            onClick={() => {\n              history.push(\"/myfiles\");\n            }}\n            isLoading={loading}\n          >\n            Exit\n          </Button>\n        </Center>\n      </Flex>\n    </Box>\n  );\n};\n\nexport default EditFile;\n"]},"metadata":{},"sourceType":"module"}